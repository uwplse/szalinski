/********
 * NRG Energy Center Relief
 *
 * A digital reproduction of the relief on the face of the
 * NRG Energy Center building at 934 Kettner Blvd in San Diego.
 *
 * Modeled from photographs by Marcio Teixeira
 *
 * License:
 *   Creative Commons - Attribution - Share Alike
 *
 *   http://creativecommons.org/licenses/by-sa/3.0/
 *
 ********/
 
/* [Global] */

// Length of the mural in mm
length        = 200;

// Thickness of the mural in mm
thickness     = 10;
 
// Percentage of thickness carved out by the relief
relief        = 0.5;  // [0.1:0.1:0.9]

// Crop to a rectangle?
crop_to_frame = "no"; // [yes, no]
 
/* [Hidden] */
 
// Module names are of the form poly_<inkscape-path-id>().  As a result,
// you can associate a polygon in this OpenSCAD program with the corresponding
// SVG element in the Inkscape document by looking for the XML element with
// the attribute id="inkscape-path-id".

// fudge value is used to ensure that subtracted solids are a tad taller
// in the z dimension than the polygon being subtracted from.  This helps
// keep the resulting .stl file manifold.
fudge = 0.1;

module poly_heat_exchanger(h)
{
  scale([25.4/90, -25.4/90, 1]) union()
  {
    linear_extrude(height=h)
      polygon([[-2457.992246,-16.613580],[-2458.273496,43.386420],[-1614.490296,47.339550],[-1614.419996,47.339550],[-1608.109504,48.184104],[-1600.854295,50.663959],[-1593.358498,54.698404],[-1586.326246,60.206730],[-1580.461369,66.805332],[-1576.094141,74.011561],[-1573.368355,81.596137],[-1572.427806,89.329780],[-1573.245351,97.850952],[-1575.605747,105.665924],[-1579.370637,112.642175],[-1584.401663,118.647184],[-1590.560470,123.548430],[-1597.708699,127.213394],[-1605.707993,129.509554],[-1614.419996,130.304390],[-2178.191476,130.304390],[-2198.497323,132.347277],[-2217.525361,138.210117],[-2234.834948,147.494175],[-2249.985442,159.800718],[-2262.536203,174.731010],[-2272.046588,191.886319],[-2278.075956,210.867910],[-2280.183666,231.277050],[-2279.550483,242.127403],[-2277.721320,252.560988],[-2270.897358,272.003155],[-2260.556396,289.254144],[-2247.543046,303.964550],[-2232.515413,316.037961],[-2215.758072,325.278716],[-2197.555326,331.188559],[-2178.191476,333.269230],[-2178.064526,333.269230],[-1456.462936,327.236030],[-1450.153797,328.083532],[-1442.902723,330.563639],[-1435.412231,334.596251],[-1428.384836,340.101270],[-1422.519933,346.700184],[-1418.152686,353.907087],[-1415.426889,361.492332],[-1414.486336,369.226270],[-1415.386376,377.919230],[-1417.947117,386.187103],[-1421.959493,393.803665],[-1427.214436,400.542690],[-1433.502879,406.177953],[-1440.615755,410.483229],[-1448.343996,413.232293],[-1456.478536,414.198920],[-2216.175856,414.198920],[-2237.059169,416.413599],[-2256.358262,422.729343],[-2273.703204,432.653714],[-2288.724063,445.694273],[-2301.050909,461.358579],[-2310.313809,479.154195],[-2316.142831,498.588682],[-2318.168046,519.169600],[-2317.472108,530.001941],[-2315.469125,540.365314],[-2312.286340,550.191843],[-2308.051000,559.413653],[-2296.931631,575.771610],[-2283.128976,588.896180],[-2267.646565,598.744407],[-2251.068090,605.685567],[-2233.781778,609.795010],[-2216.175856,611.148080],[-1508.459036,611.148080],[-1500.390631,611.859485],[-1492.218998,613.870518],[-1484.544334,616.996407],[-1477.966836,621.052380],[-1472.891233,625.559942],[-1469.302411,630.452405],[-1467.170802,636.162930],[-1466.466836,643.124680],[-1467.408121,651.903488],[-1470.069030,660.397700],[-1474.205141,668.334262],[-1479.572036,675.440118],[-1485.925293,681.442212],[-1493.020492,686.067491],[-1500.613213,689.042899],[-1508.459036,690.095380],[-2034.244216,690.095380],[-2055.416263,692.395997],[-2074.850883,698.938307],[-2092.213501,709.182993],[-2107.169541,722.590743],[-2119.384426,738.622240],[-2128.523581,756.738172],[-2134.252430,776.399224],[-2136.236396,797.066080],[-2135.603214,807.916419],[-2133.774051,818.349996],[-2126.950092,837.792155],[-2116.609130,855.043152],[-2103.595776,869.753580],[-2088.568143,881.827007],[-2071.810803,891.067767],[-2053.608060,896.977610],[-2034.244216,899.058280],[-2034.158316,899.058280],[-1021.455136,893.269180],[-1021.455136,953.642280],[-944.787136,953.642280],[-944.787136,450.308300],[-1021.455136,450.308300],[-1021.455136,833.267280],[-2034.244256,839.058280],[-2040.554743,838.213730],[-2047.809953,835.733880],[-2055.305752,831.699430],[-2062.338006,826.191080],[-2068.202881,819.592152],[-2072.570106,812.385255],[-2075.295888,804.800021],[-2076.236436,797.066080],[-2075.295148,788.287272],[-2072.634233,779.793060],[-2068.498113,771.856498],[-2063.131212,764.750643],[-2056.777953,758.748548],[-2049.682759,754.123269],[-2042.090052,751.147861],[-2034.244256,750.095380],[-1508.459136,750.095380],[-1487.287044,747.794767],[-1467.852391,741.252468],[-1450.489751,731.007793],[-1435.533698,717.600055],[-1423.318807,701.568564],[-1414.179650,683.452630],[-1408.450802,663.791565],[-1406.466836,643.124680],[-1407.162856,632.292420],[-1409.166055,621.929261],[-1412.349145,612.103037],[-1416.584836,602.881580],[-1427.704867,586.524299],[-1441.507836,573.400080],[-1456.989964,563.551849],[-1473.567786,556.610660],[-1490.853458,552.501186],[-1508.459136,551.148100],[-2216.175896,551.148100],[-2224.244616,550.436398],[-2232.416930,548.424712],[-2240.092261,545.298170],[-2246.670036,541.241900],[-2251.745309,536.734380],[-2255.333463,531.841913],[-2257.464417,526.131364],[-2258.168086,519.169600],[-2257.268045,510.476729],[-2254.707302,502.209080],[-2250.694924,494.592831],[-2245.439980,487.854163],[-2239.151537,482.219255],[-2232.038663,477.914289],[-2224.310427,475.165444],[-2216.175896,474.198900],[-1456.478536,474.198900],[-1435.595223,471.984140],[-1416.296128,465.668180],[-1398.951185,455.743505],[-1383.930323,442.702595],[-1371.603476,427.037934],[-1362.340575,409.242005],[-1356.511551,389.807289],[-1354.486336,369.226270],[-1355.119520,358.375912],[-1356.948686,347.942323],[-1363.772661,328.500158],[-1374.113648,311.249173],[-1387.127036,296.538770],[-1402.154634,284.465366],[-1418.911948,275.224606],[-1437.114681,269.314756],[-1456.478536,267.234080],[-1456.603536,267.234080],[-2178.191516,273.269230],[-2184.502008,272.424676],[-2191.757217,269.944821],[-2199.253014,265.910376],[-2206.285266,260.402050],[-2212.150143,253.803143],[-2216.517371,246.596244],[-2219.243157,239.010998],[-2220.183706,231.277050],[-2219.366161,222.755962],[-2217.005764,214.941211],[-2213.240873,207.965272],[-2208.209845,201.960621],[-2202.051038,197.059733],[-2194.902809,193.395081],[-2186.903516,191.099142],[-2178.191516,190.304390],[-1614.420036,190.304390],[-1594.114186,188.261416],[-1575.086145,182.398354],[-1557.776557,173.113983],[-1542.626061,160.807084],[-1530.075300,145.876434],[-1520.564914,128.720814],[-1514.535546,109.739003],[-1512.427836,89.329780],[-1513.061019,78.479427],[-1514.890184,68.045842],[-1521.714148,48.603675],[-1532.055106,31.352686],[-1545.068436,16.642280],[-1560.096095,4.569174],[-1576.853443,-4.670911],[-1595.056188,-10.580083],[-1614.420036,-12.660450],[-2457.992246,-16.613580]]);
  }
}

module poly_condenser1(h)
{
  scale([25.4/90, -25.4/90, 1]) union()
  {
    linear_extrude(height=h)
      polygon([[-1294.880036,460.918902],[-1295.591275,489.047095],[-1297.702094,516.806033],[-1301.178150,544.161372],[-1305.985098,571.078767],[-1312.088594,597.523874],[-1319.454294,623.462350],[-1328.047853,648.859849],[-1337.834928,673.682028],[-1348.781174,697.894543],[-1360.852247,721.463049],[-1374.013803,744.353202],[-1388.231498,766.530658],[-1403.470987,787.961073],[-1419.697927,808.610102],[-1436.877973,828.443402],[-1454.976781,847.426629],[-1473.960008,865.525437],[-1493.793307,882.705483],[-1514.442337,898.932424],[-1535.872751,914.171913],[-1558.050207,928.389609],[-1580.940360,941.551165],[-1604.508866,953.622239],[-1628.721380,964.568485],[-1653.543559,974.355560],[-1678.941058,982.949120],[-1704.879533,990.314820],[-1731.324641,996.418316],[-1758.242036,1001.225265],[-1785.597374,1004.701321],[-1813.356313,1006.812141],[-1841.484506,1007.523380],[-1869.612700,1006.812142],[-1897.371639,1004.701323],[-1924.726979,1001.225267],[-1951.644375,996.418320],[-1978.089483,990.314824],[-2004.027959,982.949124],[-2029.425459,974.355565],[-2054.247639,964.568490],[-2078.460154,953.622244],[-2102.028661,941.551171],[-2124.918815,928.389614],[-2147.096272,914.171919],[-2168.526687,898.932429],[-2189.175717,882.705489],[-2209.009018,865.525442],[-2227.992245,847.426633],[-2246.091054,828.443407],[-2263.271100,808.610106],[-2279.498041,787.961076],[-2294.737531,766.530660],[-2308.955226,744.353203],[-2322.116783,721.463050],[-2334.187857,697.894543],[-2345.134103,673.682027],[-2354.921178,648.859847],[-2363.514738,623.462347],[-2370.880438,597.523870],[-2376.983934,571.078761],[-2381.790882,544.161365],[-2385.266938,516.806025],[-2387.377757,489.047085],[-2388.088996,460.918890],[-2387.417223,433.814339],[-2385.414278,406.893752],[-2382.098717,380.201931],[-2377.489098,353.783679],[-2371.603980,327.683797],[-2364.461920,301.947090],[-2356.081477,276.618359],[-2346.481207,251.742408],[-2335.679668,227.364037],[-2323.695420,203.528051],[-2310.547019,180.279252],[-2296.253023,157.662442],[-2280.831990,135.722425],[-2264.302478,114.504001],[-2246.683044,94.051975],[-2227.992248,74.411148],[-2208.351421,55.720352],[-2187.899395,38.100918],[-2166.680971,21.571406],[-2144.740954,6.150373],[-2122.124144,-8.143623],[-2098.875345,-21.292024],[-2075.039359,-33.276272],[-2050.660988,-44.077811],[-2025.785037,-53.678081],[-2000.456306,-62.058524],[-1974.719599,-69.200584],[-1948.619717,-75.085702],[-1922.201465,-79.695321],[-1895.509644,-83.010882],[-1868.589057,-85.013827],[-1841.484506,-85.685600],[-1813.356312,-84.974361],[-1785.597373,-82.863541],[-1758.242034,-79.387484],[-1731.324638,-74.580536],[-1704.879530,-68.477039],[-1678.941054,-61.111339],[-1653.543555,-52.517779],[-1628.721375,-42.730703],[-1604.508861,-31.784456],[-1580.940354,-19.713382],[-1558.050201,-6.551825],[-1535.872745,7.665871],[-1514.442330,22.905361],[-1493.793301,39.132302],[-1473.960001,56.312349],[-1454.976775,74.411158],[-1436.877966,93.394386],[-1419.697920,113.227686],[-1403.470980,133.876717],[-1388.231491,155.307132],[-1374.013796,177.484589],[-1360.852241,200.374743],[-1348.781168,223.943250],[-1337.834922,248.155765],[-1328.047848,272.977945],[-1319.454289,298.375445],[-1312.088590,324.313921],[-1305.985095,350.759030],[-1301.178147,377.676426],[-1297.702092,405.031765],[-1295.591274,432.790704],[-1294.880036,460.918898],[-1294.880036,460.918900]]);
  }
}

module poly_condenser2(h)
{
  scale([25.4/90, -25.4/90, 1]) union()
  {
    linear_extrude(height=h)
      polygon([[-1237.718736,460.918900],[-1238.460758,490.857916],[-1240.673161,520.593730],[-1244.335446,550.076854],[-1249.427115,579.257802],[-1255.927670,608.087084],[-1263.816611,636.515214],[-1273.073441,664.492703],[-1283.677660,691.970063],[-1295.608771,718.897808],[-1308.846275,745.226448],[-1323.369673,770.906496],[-1339.158466,795.888464],[-1356.192157,820.122865],[-1374.450246,843.560210],[-1393.912236,866.151012],[-1414.557626,887.845783],[-1436.252397,908.491174],[-1458.843198,927.953164],[-1482.280543,946.211253],[-1506.514944,963.244944],[-1531.496912,979.033738],[-1557.176960,993.557136],[-1583.505599,1006.794640],[-1610.433343,1018.725752],[-1637.910704,1029.329972],[-1665.888193,1038.586802],[-1694.316322,1046.475744],[-1723.145605,1052.976299],[-1752.326552,1058.067969],[-1781.809677,1061.730254],[-1811.545491,1063.942658],[-1841.484506,1064.684680],[-1871.423520,1063.942656],[-1901.159333,1061.730252],[-1930.642457,1058.067965],[-1959.823403,1052.976294],[-1988.652684,1046.475738],[-2017.080813,1038.586795],[-2045.058300,1029.329964],[-2072.535659,1018.725743],[-2099.463402,1006.794631],[-2125.792041,993.557127],[-2151.472087,979.033728],[-2176.454054,963.244934],[-2200.688453,946.211243],[-2224.125797,927.953153],[-2246.716597,908.491163],[-2268.411366,887.845772],[-2289.056756,866.151001],[-2308.518744,843.560200],[-2326.776832,820.122855],[-2343.810522,795.888455],[-2359.599315,770.906487],[-2374.122711,745.226440],[-2387.360214,718.897800],[-2399.291324,691.970057],[-2409.895543,664.492697],[-2419.152372,636.515208],[-2427.041313,608.087080],[-2433.541868,579.257798],[-2438.633536,550.076851],[-2442.295822,520.593728],[-2444.508224,490.857915],[-2445.250246,460.918900],[-2444.464630,429.849195],[-2442.133072,399.187360],[-2438.293507,368.971331],[-2432.983872,339.239044],[-2426.242102,310.028434],[-2418.106133,281.377437],[-2408.613901,253.323989],[-2397.803341,225.906025],[-2385.712390,199.161482],[-2372.378982,173.128295],[-2357.841054,147.844399],[-2342.136540,123.347731],[-2325.303378,99.676226],[-2307.379503,76.867820],[-2288.402850,54.960449],[-2268.411356,33.992047],[-2247.442955,14.000552],[-2225.535584,-4.976101],[-2202.727178,-22.899976],[-2179.055673,-39.733139],[-2154.559005,-55.437652],[-2129.275110,-69.975581],[-2103.241923,-83.308989],[-2076.497380,-95.399942],[-2049.079417,-106.210502],[-2021.025969,-115.702735],[-1992.374972,-123.838704],[-1963.164362,-130.580474],[-1933.432075,-135.890110],[-1903.216046,-139.729675],[-1872.554211,-142.061233],[-1841.484506,-142.846850],[-1811.545491,-142.104828],[-1781.809678,-139.892425],[-1752.326555,-136.230139],[-1723.145608,-131.138470],[-1694.316327,-124.637915],[-1665.888198,-116.748974],[-1637.910710,-107.492144],[-1610.433350,-96.887925],[-1583.505607,-84.956814],[-1557.176968,-71.719311],[-1531.496920,-57.195913],[-1506.514953,-41.407121],[-1482.280553,-24.373430],[-1458.843208,-6.115342],[-1436.252407,13.346647],[-1414.557637,33.992037],[-1393.912246,55.686806],[-1374.450257,78.277607],[-1356.192167,101.714951],[-1339.158477,125.949350],[-1323.369683,150.931317],[-1308.846285,176.611364],[-1295.608781,202.940003],[-1283.677669,229.867746],[-1273.073449,257.345105],[-1263.816618,285.322593],[-1255.927676,313.750721],[-1249.427120,342.580003],[-1244.335450,371.760949],[-1240.673163,401.244073],[-1238.460759,430.979886],[-1237.718736,460.918900],[-1237.718736,460.918900]]);
  }
}

module poly_tank(h)
{
  scale([25.4/90, -25.4/90, 1]) union()
  {
    linear_extrude(height=h)
      polygon([[-1017.638736,125.950880],[-1017.638736,386.247750],[-1028.700606,390.840844],[-1039.129017,396.754388],[-1048.776781,403.877845],[-1057.496711,412.100680],[-1065.141619,421.312358],[-1071.564317,431.402345],[-1076.617619,442.260104],[-1080.154336,453.775100],[-1083.145223,471.573050],[-1083.625036,489.595400],[-1083.691036,810.302380],[-1127.825836,810.302380],[-1127.825836,917.165680],[-1083.691036,917.165680],[-1083.691036,1029.476280],[-890.755536,1029.476280],[-890.755536,917.165680],[-846.618736,917.165680],[-846.618736,810.302380],[-890.755536,810.302380],[-890.917636,471.960600],[-893.239373,458.222575],[-896.909836,444.759500],[-901.183719,434.668346],[-906.623973,425.190467],[-913.121297,416.410142],[-920.566386,408.411650],[-937.862648,395.097278],[-947.495216,389.949955],[-957.638336,385.921580],[-957.638336,185.950880],[-712.548436,185.950880],[-712.548436,125.950880],[-1017.638336,125.950880]]);
  }
}

module poly_crank(h)
{
  scale([25.4/90, -25.4/90, 1]) union()
  {
    linear_extrude(height=h)
      polygon([[1864.960864,330.583690],[1849.351963,331.371994],[1834.193962,333.685499],[1819.563599,337.447466],[1805.537609,342.581159],[1792.192728,349.009841],[1779.605692,356.656775],[1767.853238,365.445223],[1757.012102,375.298449],[1747.159018,386.139715],[1738.370725,397.892285],[1730.723957,410.479421],[1724.295451,423.824387],[1719.161942,437.850444],[1715.400168,452.480857],[1713.086863,467.638888],[1712.298764,483.247800],[1713.087056,498.856558],[1715.400522,514.014428],[1719.162426,528.644674],[1724.296035,542.670562],[1730.724613,556.015357],[1738.371427,568.602324],[1747.159740,580.354730],[1757.012819,591.195839],[1767.853930,601.048917],[1779.606336,609.837229],[1792.193305,617.484040],[1805.538101,623.912617],[1819.563989,629.046223],[1834.194236,632.808126],[1849.352105,635.121590],[1864.960864,635.909880],[1891.271629,633.593133],[1916.607347,626.841261],[1940.414274,615.854148],[1962.138664,600.831680],[2024.042964,662.735980],[2018.789770,676.203961],[2014.755434,690.056524],[2011.960063,704.211216],[2010.423764,718.585580],[1359.691364,715.427380],[1359.400364,775.425480],[2017.876864,778.622780],[2027.843747,802.888021],[2041.280894,824.838567],[2057.801969,844.192015],[2077.020635,860.665966],[2098.550554,873.978019],[2122.005390,883.845773],[2146.998805,889.986827],[2173.144464,892.118780],[2189.834092,891.275866],[2206.041600,888.802156],[2221.684939,884.779701],[2236.682061,879.290549],[2250.950916,872.416751],[2264.409457,864.240356],[2276.975635,854.843414],[2288.567401,844.307974],[2299.102706,832.716085],[2308.499503,820.149798],[2316.675741,806.691162],[2323.549373,792.422226],[2329.038350,777.425040],[2333.060623,761.781655],[2335.534144,745.574118],[2336.376864,728.884480],[2335.534152,712.194836],[2333.060637,695.987293],[2329.038369,680.343901],[2323.549396,665.346708],[2316.675767,651.077766],[2308.499530,637.619123],[2299.102735,625.052829],[2288.567429,613.460935],[2276.975663,602.925489],[2264.409483,593.528541],[2250.950939,585.352141],[2236.682080,578.478339],[2221.684954,572.989184],[2206.041611,568.966726],[2189.834098,566.493015],[2173.144464,565.650100],[2158.468427,566.338490],[2144.000890,568.327887],[2129.823781,571.587497],[2116.019026,576.086526],[2102.668550,581.794183],[2089.854280,588.679672],[2077.658143,596.712203],[2066.162064,605.860980],[2004.734364,544.433300],[2010.318674,529.698647],[2014.345802,514.507594],[2016.789862,498.983019],[2017.624964,483.247800],[2016.878000,468.158802],[2014.664594,453.325374],[2011.026211,438.847622],[2006.004316,424.825652],[1999.640373,411.359573],[1991.975850,398.549490],[1983.052210,386.495511],[1972.910919,375.297742],[1961.713151,365.156450],[1949.659172,356.232810],[1936.849090,348.568285],[1923.383011,342.204342],[1909.361042,337.182446],[1894.883290,333.544062],[1880.049862,331.330654],[1864.960864,330.583690]]);
  }
}

module poly_asterisk(h)
{
  scale([25.4/90, -25.4/90, 1]) union()
  {
    linear_extrude(height=h)
      polygon([[-8.382853,-593.480771],[-8.382853,-217.691705],[89.121047,-217.691705],[89.121047,-593.480771],[-8.382853,-593.480771]]);
    linear_extrude(height=h)
      polygon([[546.164047,-408.920225],[280.441347,-143.197565],[349.386647,-74.252255],[615.109347,-339.974915],[546.164047,-408.920225]]);
    linear_extrude(height=h)
      polygon([[-462.066453,-400.806945],[-531.011753,-331.859675],[-265.289153,-66.137025],[-196.343853,-135.082335],[-462.066453,-400.806945]]);
    linear_extrude(height=h)
      polygon([[431.996047,113.706725],[431.996047,211.210635],[807.783147,211.210635],[807.783147,113.706725],[431.996047,113.706725]]);
    linear_extrude(height=h)
      polygon([[-715.572353,125.183295],[-715.572353,222.687195],[-339.783253,222.687195],[-339.783253,125.183295],[-715.572353,125.183295]]);
    linear_extrude(height=h)
      polygon([[357.501847,402.532906],[288.554647,471.478196],[554.279247,737.200896],[623.224547,668.255596],[357.501847,402.532906]]);
    linear_extrude(height=h)
      polygon([[-257.173853,410.646186],[-522.896553,676.368796],[-453.951253,745.314196],[-188.228553,479.591496],[-257.173853,410.646186]]);
    linear_extrude(height=h)
      polygon([[3.091747,554.085596],[3.091747,929.874696],[100.595647,929.874696],[100.595647,554.085596],[3.091747,554.085596]]);
  }
}

module poly_intake_rim(h)
{
  scale([25.4/90, -25.4/90, 1]) union()
  {
    linear_extrude(height=h)
      polygon([[-748.367236,-610.049130],[-748.367236,-173.777640],[-668.429736,-173.777640],[-668.429736,-612.049130],[-748.367236,-612.049130],[-748.367236,-611.049130],[-748.367236,-610.049130]]);
  }
}

module poly_intake_rim(h)
{
  scale([25.4/90, -25.4/90, 1]) union()
  {
    linear_extrude(height=h)
      polygon([[-1160.478536,-610.049130],[-1160.478536,-173.777640],[-1080.541036,-173.777640],[-1080.541036,-612.049130],[-1160.478536,-612.049130],[-1160.478536,-611.049130],[-1160.478536,-610.049130]]);
  }
}

module poly_intake_air(h)
{
  scale([25.4/90, -25.4/90, 1]) union()
  {
    linear_extrude(height=h)
      polygon([[-2458.376836,-591.885240],[-2458.376836,-516.885242],[-2435.543124,-516.105289],[-2415.671143,-513.861298],[-2398.150558,-510.297074],[-2382.371036,-505.556419],[-2353.593849,-493.121028],[-2324.456916,-477.705554],[-2290.781021,-460.995019],[-2271.491630,-453.029216],[-2250.209901,-445.794910],[-2226.667301,-439.645993],[-2200.595296,-434.936354],[-2171.725356,-432.019885],[-2139.788946,-431.250476],[-2108.174164,-432.705688],[-2079.771048,-436.024715],[-2054.275213,-440.894945],[-2031.382277,-447.003766],[-2010.787855,-454.038568],[-1992.187564,-461.686739],[-1959.751836,-477.572742],[-1931.410053,-492.215096],[-1902.533366,-504.282790],[-1886.290002,-509.052191],[-1867.987594,-512.819190],[-1846.984370,-515.464207],[-1822.638556,-516.867664],[-1800.974968,-516.068909],[-1782.107569,-513.832195],[-1765.438455,-510.293482],[-1750.369721,-505.588734],[-1722.641778,-493.224972],[-1694.140506,-477.828601],[-1660.746646,-461.057627],[-1641.536825,-453.070400],[-1620.303581,-445.819800],[-1596.785792,-439.659168],[-1570.722336,-434.941843],[-1541.852091,-432.021165],[-1509.913936,-431.250476],[-1478.140825,-432.619889],[-1449.102897,-435.707488],[-1422.524310,-440.236242],[-1398.129224,-445.929121],[-1354.786181,-459.699126],[-1316.867036,-474.801258],[-1281.909041,-489.128448],[-1246.209099,-501.254345],[-1226.809879,-506.118317],[-1205.699950,-509.983776],[-1182.370905,-512.701326],[-1156.314336,-514.121570],[-1158.275236,-589.096180],[-1188.931778,-587.329523],[-1216.971781,-583.894398],[-1242.672678,-579.072069],[-1266.311898,-573.143799],[-1308.515034,-559.094487],[-1345.800636,-543.996570],[-1380.751958,-529.868625],[-1417.192161,-518.048238],[-1437.245447,-513.387323],[-1459.200777,-509.764029],[-1483.568093,-507.331935],[-1510.857336,-506.244617],[-1537.484641,-506.710359],[-1560.577408,-508.715682],[-1580.732900,-512.093834],[-1598.548377,-516.678063],[-1614.621100,-522.301617],[-1629.548331,-528.797744],[-1658.355356,-543.740710],[-1689.610815,-560.212633],[-1707.084955,-568.296169],[-1726.129815,-575.767944],[-1747.000231,-582.245347],[-1769.951037,-587.345770],[-1795.237071,-590.686604],[-1823.113166,-591.885240],[-1823.620976,-591.885240],[-1824.128786,-591.871540],[-1853.770409,-590.003245],[-1880.428200,-586.307238],[-1904.403119,-581.109468],[-1925.996127,-574.735885],[-1945.508184,-567.512438],[-1963.240249,-559.765075],[-1994.568246,-544.002400],[-2023.004066,-529.638428],[-2037.636479,-523.351915],[-2053.404787,-517.841401],[-2070.953660,-513.241148],[-2090.927766,-509.685420],[-2113.971775,-507.308479],[-2140.730356,-506.244587],[-2167.361975,-506.711693],[-2190.473266,-508.721446],[-2210.669918,-512.107597],[-2228.557620,-516.703900],[-2244.742060,-522.344107],[-2259.828927,-528.861970],[-2289.132696,-543.865680],[-2321.106192,-560.359284],[-2339.017550,-568.424519],[-2358.563861,-575.867048],[-2380.009035,-582.310626],[-2403.616982,-587.379009],[-2429.651613,-590.695952],[-2458.376836,-591.885210]]);
    linear_extrude(height=h)
      polygon([[-2458.376836,-435.885242],[-2458.376836,-360.885242],[-2435.543124,-360.105289],[-2415.671143,-357.861298],[-2398.150558,-354.297073],[-2382.371036,-349.556418],[-2353.593849,-337.121026],[-2324.456916,-321.705550],[-2290.781021,-304.995019],[-2271.491630,-297.029217],[-2250.209901,-289.794913],[-2226.667301,-283.645996],[-2200.595296,-278.936358],[-2171.725356,-276.019889],[-2139.788946,-275.250480],[-2108.174164,-276.705691],[-2079.771048,-280.024717],[-2054.275213,-284.894946],[-2031.382277,-291.003766],[-2010.787855,-298.038567],[-1992.187564,-305.686738],[-1959.751836,-321.572740],[-1931.410053,-336.215095],[-1902.533366,-348.282789],[-1886.290002,-353.052190],[-1867.987594,-356.819190],[-1846.984370,-359.464207],[-1822.638556,-360.867664],[-1800.974968,-360.068909],[-1782.107569,-357.832194],[-1765.438455,-354.293482],[-1750.369721,-349.588733],[-1722.641778,-337.224971],[-1694.140506,-321.828600],[-1660.746646,-305.057629],[-1641.536825,-297.070403],[-1620.303581,-289.819804],[-1596.785792,-283.659171],[-1570.722336,-278.941846],[-1541.852091,-276.021169],[-1509.913936,-275.250480],[-1478.140825,-276.619892],[-1449.102897,-279.707490],[-1422.524310,-284.236244],[-1398.129224,-289.929123],[-1354.786181,-303.699128],[-1316.867036,-318.801260],[-1281.909041,-333.128448],[-1246.209099,-345.254345],[-1226.809879,-350.118317],[-1205.699950,-353.983776],[-1182.370905,-356.701326],[-1156.314336,-358.121570],[-1158.275236,-433.096179],[-1188.931778,-431.329522],[-1216.971781,-427.894397],[-1242.672678,-423.072068],[-1266.311898,-417.143798],[-1308.515034,-403.094487],[-1345.800636,-387.996570],[-1380.751958,-373.868625],[-1417.192161,-362.048238],[-1437.245447,-357.387323],[-1459.200777,-353.764029],[-1483.568093,-351.331935],[-1510.857336,-350.244617],[-1537.484641,-350.710359],[-1560.577408,-352.715682],[-1580.732900,-356.093834],[-1598.548377,-360.678063],[-1614.621100,-366.301617],[-1629.548331,-372.797745],[-1658.355356,-387.740711],[-1689.610815,-404.212633],[-1707.084955,-412.296170],[-1726.129815,-419.767944],[-1747.000231,-426.245348],[-1769.951037,-431.345772],[-1795.237071,-434.686606],[-1823.113166,-435.885242],[-1823.620976,-435.885242],[-1824.128786,-435.871570],[-1853.770409,-434.003275],[-1880.428200,-430.307268],[-1904.403119,-425.109498],[-1925.996127,-418.735915],[-1945.508184,-411.512467],[-1963.240249,-403.765104],[-1994.568246,-388.002429],[-2023.004066,-373.638458],[-2037.636479,-367.351945],[-2053.404787,-361.841431],[-2070.953660,-357.241178],[-2090.927766,-353.685450],[-2113.971775,-351.308509],[-2140.730356,-350.244617],[-2167.361975,-350.711723],[-2190.473266,-352.721476],[-2210.669918,-356.107627],[-2228.557620,-360.703930],[-2244.742060,-366.344137],[-2259.828927,-372.862001],[-2289.132696,-387.865711],[-2321.106192,-404.359314],[-2339.017550,-412.424549],[-2358.563861,-419.867078],[-2380.009035,-426.310657],[-2403.616982,-431.379041],[-2429.651613,-434.695984],[-2458.376836,-435.885242]]);
    linear_extrude(height=h)
      polygon([[-2458.376836,-279.885240],[-2458.376836,-204.885240],[-2435.543124,-204.105287],[-2415.671143,-201.861296],[-2398.150558,-198.297072],[-2382.371036,-193.556416],[-2353.593849,-181.121025],[-2324.456916,-165.705550],[-2290.781021,-148.995019],[-2271.491630,-141.029217],[-2250.209901,-133.794913],[-2226.667301,-127.645996],[-2200.595296,-122.936358],[-2171.725356,-120.019889],[-2139.788946,-119.250480],[-2108.174164,-120.705691],[-2079.771048,-124.024717],[-2054.275213,-128.894946],[-2031.382277,-135.003766],[-2010.787855,-142.038567],[-1992.187564,-149.686738],[-1959.751836,-165.572740],[-1931.410053,-180.215095],[-1902.533366,-192.282789],[-1886.290002,-197.052190],[-1867.987594,-200.819188],[-1846.984370,-203.464205],[-1822.638556,-204.867660],[-1800.974968,-204.068899],[-1782.107569,-201.832183],[-1765.438455,-198.293471],[-1750.369721,-193.588725],[-1722.641778,-181.224969],[-1694.140506,-165.828600],[-1660.746646,-149.057625],[-1641.536825,-141.070399],[-1620.303581,-133.819800],[-1596.785792,-127.659169],[-1570.722336,-122.941845],[-1541.852091,-120.021169],[-1509.913936,-119.250480],[-1478.140825,-120.619892],[-1449.102897,-123.707490],[-1422.524310,-128.236244],[-1398.129224,-133.929123],[-1354.786181,-147.699128],[-1316.867036,-162.801260],[-1281.909041,-177.128449],[-1246.209099,-189.254345],[-1226.809879,-194.118317],[-1205.699950,-197.983776],[-1182.370905,-200.701326],[-1156.314336,-202.121570],[-1158.275236,-277.096180],[-1188.931778,-275.329523],[-1216.971781,-271.894398],[-1242.672678,-267.072069],[-1266.311898,-261.143799],[-1308.515034,-247.094487],[-1345.800636,-231.996570],[-1380.751958,-217.868624],[-1417.192161,-206.048237],[-1437.245447,-201.387322],[-1459.200777,-197.764029],[-1483.568093,-195.331936],[-1510.857336,-194.244620],[-1537.484641,-194.710362],[-1560.577408,-196.715684],[-1580.732900,-200.093835],[-1598.548377,-204.678064],[-1614.621100,-210.301617],[-1629.548331,-216.797744],[-1658.355356,-231.740710],[-1689.610815,-248.212633],[-1707.084955,-256.296169],[-1726.129815,-263.767944],[-1747.000231,-270.245347],[-1769.951037,-275.345770],[-1795.237071,-278.686604],[-1823.113166,-279.885240],[-1823.620976,-279.885240],[-1824.128786,-279.871540],[-1853.770409,-278.003245],[-1880.428200,-274.307238],[-1904.403119,-269.109468],[-1925.996127,-262.735885],[-1945.508184,-255.512438],[-1963.240249,-247.765075],[-1994.568246,-232.002400],[-2023.004066,-217.638445],[-2037.636479,-211.351937],[-2053.404787,-205.841426],[-2070.953660,-201.241176],[-2090.927766,-197.685449],[-2113.971775,-195.308510],[-2140.730356,-194.244620],[-2167.361975,-194.711726],[-2190.473266,-196.721478],[-2210.669918,-200.107628],[-2228.557620,-204.703930],[-2244.742060,-210.344136],[-2259.828927,-216.862000],[-2289.132696,-231.865710],[-2321.106192,-248.359314],[-2339.017550,-256.424549],[-2358.563861,-263.867078],[-2380.009035,-270.310656],[-2403.616982,-275.379039],[-2429.651613,-278.695982],[-2458.376836,-279.885240]]);
  }
}

module poly_turbine_housing(h)
{
  scale([25.4/90, -25.4/90, 1]) union()
  {
    linear_extrude(height=h)
      polygon([[46.410901,-570.273337],[14.260601,-569.367407],[-17.819499,-567.058497],[-979.506999,-567.058497],[-979.506999,-220.156157],[-579.907399,-220.156157],[-605.240095,-175.829217],[-627.366500,-130.021101],[-646.236764,-82.906728],[-661.801036,-34.661018],[-674.009466,14.541110],[-682.812203,64.524737],[-688.159398,115.114945],[-690.001199,166.136813],[-689.096172,202.653387],[-686.397724,238.922117],[-681.930855,274.882643],[-675.720569,310.474606],[-667.791867,345.637643],[-658.169751,380.311396],[-646.879223,414.435503],[-633.945286,447.949606],[-619.392941,480.793342],[-603.247192,512.906352],[-585.533039,544.228277],[-566.275484,574.698754],[-545.499531,604.257425],[-523.230181,632.843929],[-499.492436,660.397905],[-474.311299,686.858993],[-447.850215,712.040148],[-420.296243,735.777908],[-391.709742,758.047271],[-362.151074,778.823235],[-331.680597,798.080798],[-300.358673,815.794956],[-268.245661,831.940710],[-235.401924,846.493055],[-201.887819,859.426991],[-167.763709,870.717515],[-133.089953,880.339626],[-97.926911,888.268320],[-62.334944,894.478595],[-26.374413,898.945451],[9.894322,901.643884],[46.410901,902.548893],[73.825001,901.578193],[73.825001,902.668093],[837.215601,902.668093],[837.215601,619.931693],[625.321101,619.931693],[643.853738,595.317918],[661.288400,570.029967],[677.612118,544.105209],[692.811922,517.581014],[706.874841,490.494749],[719.787905,462.883784],[731.538145,434.785488],[742.112589,406.237230],[751.498268,377.276380],[759.682212,347.940305],[766.651450,318.266375],[772.393012,288.291959],[776.893929,258.054425],[780.141229,227.591144],[782.121944,196.939484],[782.823101,166.136813],[781.917985,129.620299],[779.219453,93.351632],[774.752507,57.391173],[768.542150,21.799280],[760.613383,-13.363685],[750.991207,-48.037362],[739.700625,-82.161393],[726.766639,-115.675416],[712.214250,-148.519071],[696.068460,-180.631999],[678.354271,-211.953839],[659.096684,-242.424232],[638.320702,-271.982817],[616.051327,-300.569235],[592.313559,-328.123124],[567.132401,-354.584126],[540.671339,-379.765203],[513.117393,-403.502888],[484.530921,-425.772180],[454.972286,-446.548078],[424.501846,-465.805578],[393.179962,-483.519680],[361.066994,-499.665381],[328.223301,-514.217679],[294.709245,-527.151573],[260.585185,-538.442060],[225.911480,-548.064138],[190.748492,-555.992807],[155.156580,-562.203062],[119.196104,-566.669904],[82.927425,-569.368330],[46.410901,-570.273337]]);
  }
}

module poly_gear_inner_ring(h)
{
  scale([25.4/90, -25.4/90, 1]) union()
  {
    difference()
    {
       linear_extrude(height=h)
         polygon([[1864.960864,403.665720],[1848.956546,405.287430],[1834.034442,409.936413],[1820.518706,417.288467],[1808.733489,427.019392],[1799.002944,438.804989],[1791.651223,452.321056],[1787.002479,467.243393],[1785.380864,483.247800],[1787.002483,499.252090],[1791.651237,514.174180],[1799.002970,527.689914],[1808.733526,539.475137],[1820.518750,549.205694],[1834.034484,556.557427],[1848.956574,561.206181],[1864.960864,562.827800],[1880.965268,561.206181],[1895.887600,556.557427],[1909.403660,549.205694],[1921.189252,539.475137],[1930.920176,527.689914],[1938.272234,514.174180],[1942.921230,499.252090],[1944.542964,483.247800],[1942.921259,467.243393],[1938.272276,452.321056],[1930.920219,438.804989],[1921.189289,427.019392],[1909.403687,417.288467],[1895.887614,409.936413],[1880.965273,405.287430],[1864.960864,403.665720]]);
       translate([0, 0, -fudge])
         linear_extrude(height=h+2*fudge)
           polygon([[1864.960864,423.665720],[1877.002590,424.871385],[1888.202652,428.331400],[1898.325601,433.810319],[1907.135989,441.072692],[1914.398368,449.883075],[1919.877289,460.006018],[1923.337304,471.206076],[1924.542964,483.247800],[1923.337275,495.289407],[1919.877247,506.489217],[1914.398324,516.611828],[1907.135951,525.421837],[1898.325574,532.683842],[1888.202637,538.162439],[1877.002586,541.622226],[1864.960864,542.827800],[1852.919257,541.622226],[1841.719447,538.162439],[1831.596836,532.683842],[1822.786827,525.421837],[1815.524822,516.611828],[1810.046225,506.489217],[1806.586438,495.289407],[1805.380864,483.247800],[1806.586434,471.206076],[1810.046211,460.006018],[1815.524796,449.883075],[1822.786789,441.072693],[1831.596792,433.810319],[1841.719405,428.331400],[1852.919228,424.871385],[1864.960864,423.665720]]);
    }
  }
}

module poly_piston(h)
{
  scale([25.4/90, -25.4/90, 1]) union()
  {
    linear_extrude(height=h)
      polygon([[927.263764,738.999480],[927.263764,758.999480],[1370.263764,758.999480],[1370.263764,738.999480],[927.263764,738.999480]]);
  }
}

module poly_gear(h)
{
  scale([25.4/90, -25.4/90, 1]) union()
  {
    linear_extrude(height=h)
      polygon([[1861.326264,31.429190],[1882.238364,107.112780],[1721.884864,54.665520],[1765.160264,120.183090],[1596.447364,119.854970],[1657.851664,168.792470],[1497.294964,220.616690],[1570.816464,248.183090],[1434.132864,347.085440],[1512.576264,350.583480],[1413.144564,486.882300],[1488.828164,465.970100],[1436.380964,626.323680],[1501.898464,583.048280],[1501.570364,751.761180],[1550.507864,690.356880],[1602.332064,850.913480],[1629.898464,777.391980],[1728.800864,914.075580],[1732.298864,835.634180],[1868.597764,935.065780],[1847.685664,859.382280],[2008.039164,911.827580],[1964.761764,846.309980],[2133.476664,846.638080],[2072.072364,797.700580],[2232.628964,745.876380],[2159.107464,718.309980],[2295.791064,619.407580],[2217.349664,615.909580],[2316.779364,479.610800],[2241.095764,500.522900],[2293.543064,340.169420],[2228.025464,383.446770],[2228.353564,214.731920],[2179.416064,276.136220],[2127.591864,115.581530],[2100.025464,189.101060],[2001.123164,52.417470],[1997.625064,130.860830],[1861.326264,31.429190]]);
  }
}

module poly_gear_recess(h)
{
  scale([25.4/90, -25.4/90, 1]) union()
  {
    linear_extrude(height=h)
      polygon([[2381.442364,483.247509],[2380.770322,509.825516],[2378.775833,536.054618],[2375.491347,561.902363],[2370.949317,587.336300],[2365.182193,612.323978],[2358.222427,636.832946],[2350.102471,660.830751],[2340.854776,684.284942],[2330.511793,707.163069],[2319.105974,729.432679],[2306.669771,751.061321],[2293.235633,772.016544],[2263.503365,811.776927],[2230.168779,848.454216],[2193.491489,881.788799],[2153.731104,911.521066],[2132.775881,924.955202],[2111.147238,937.391404],[2088.877627,948.797222],[2065.999500,959.140203],[2042.545308,968.387897],[2018.547502,976.507852],[1994.038534,983.467616],[1969.050856,989.234738],[1943.616918,993.776767],[1917.769173,997.061252],[1891.540071,999.055740],[1864.962064,999.727780],[1838.384057,999.055740],[1812.154955,997.061252],[1786.307210,993.776767],[1760.873272,989.234738],[1735.885594,983.467616],[1711.376626,976.507852],[1687.378820,968.387897],[1663.924628,959.140203],[1641.046501,948.797222],[1618.776890,937.391404],[1597.148247,924.955202],[1576.193024,911.521066],[1536.432639,881.788799],[1499.755349,848.454216],[1466.420763,811.776927],[1436.688495,772.016545],[1423.254357,751.061322],[1410.818154,729.432679],[1399.412335,707.163069],[1389.069352,684.284943],[1379.821657,660.830751],[1371.701701,636.832946],[1364.741935,612.323979],[1358.974811,587.336301],[1354.432781,561.902364],[1351.148295,536.054618],[1349.153806,509.825517],[1348.481764,483.247510],[1349.116514,457.636732],[1351.009074,432.199778],[1354.141910,406.978984],[1358.497485,382.016681],[1364.058266,357.355203],[1370.806716,333.036885],[1378.725301,309.104058],[1387.796486,285.599058],[1398.002735,262.564216],[1409.326514,240.041867],[1421.750288,218.074344],[1435.256520,196.703981],[1449.827677,175.973110],[1465.446223,155.924066],[1482.094623,136.599182],[1499.755342,118.040791],[1518.313733,100.380072],[1537.638618,83.731673],[1557.687662,68.113127],[1578.418533,53.541971],[1599.788897,40.035738],[1621.756420,27.611966],[1644.278769,16.288187],[1667.313611,6.081938],[1690.818612,-2.989246],[1714.751438,-10.907831],[1739.069757,-17.656281],[1763.731235,-23.217060],[1788.693538,-27.572636],[1813.914332,-30.705471],[1839.351286,-32.598030],[1864.962064,-33.232780],[1890.572842,-32.598030],[1916.009796,-30.705471],[1941.230590,-27.572636],[1966.192893,-23.217060],[1990.854371,-17.656281],[2015.172690,-10.907831],[2039.105516,-2.989246],[2062.610517,6.081938],[2085.645359,16.288187],[2108.167708,27.611966],[2130.135231,40.035738],[2151.505595,53.541971],[2172.236466,68.113127],[2192.285510,83.731673],[2211.610395,100.380072],[2230.168786,118.040791],[2247.829505,136.599182],[2264.477905,155.924066],[2280.096451,175.973110],[2294.667608,196.703981],[2308.173840,218.074344],[2320.597614,240.041867],[2331.921393,262.564216],[2342.127642,285.599058],[2351.198827,309.104058],[2359.117412,333.036885],[2365.865862,357.355203],[2371.426643,382.016681],[2375.782218,406.978984],[2378.915054,432.199778],[2380.807614,457.636732],[2381.442364,483.247510],[2381.442364,483.247510]]);
  }
}

module poly_updraft1(h)
{
  scale([25.4/90, -25.4/90, 1]) union()
  {
    linear_extrude(height=h)
      polygon([[1969.892564,-719.551080],[1970.643375,-705.274019],[1972.713162,-692.122269],[1979.713802,-669.121513],[1988.702747,-650.402435],[1997.488264,-635.818660],[2004.513744,-624.565096],[2009.599152,-614.025275],[2012.617391,-601.335759],[2013.441364,-583.633110],[2012.177830,-565.618191],[2009.052889,-552.947949],[2004.094836,-542.619312],[1997.331964,-531.629205],[1988.922187,-517.302348],[1980.276751,-498.794622],[1973.303947,-475.849695],[1971.041122,-462.633176],[1969.912064,-448.211232],[1969.893064,-447.648732],[1969.893064,-447.088192],[1970.654636,-433.110117],[1972.751850,-420.230005],[1979.828176,-397.702815],[1988.871997,-379.384913],[1997.633264,-365.154592],[2004.589380,-354.171011],[2009.630314,-343.785983],[2012.624873,-331.166804],[2013.441864,-313.480770],[2012.004497,-294.357660],[2008.515776,-279.224281],[2003.231800,-265.776274],[1996.408664,-251.709280],[1989.296267,-236.849145],[1982.157339,-219.250508],[1976.084498,-198.626861],[1972.170364,-174.691700],[1934.730964,-174.691700],[1934.730964,-104.691700],[2392.021964,-104.691700],[2392.021964,-174.691700],[2332.486764,-174.691700],[2334.955020,-187.149107],[2338.619414,-198.174645],[2349.125464,-220.619440],[2357.164961,-237.806432],[2364.893564,-258.577259],[2370.815267,-283.323766],[2373.434064,-312.437800],[2372.933402,-327.903086],[2371.117409,-342.157466],[2364.531801,-367.089691],[2355.661975,-387.346848],[2346.492664,-403.041312],[2339.089031,-414.387884],[2333.946527,-423.596831],[2330.931566,-433.406436],[2329.910564,-446.554982],[2331.424286,-462.316508],[2334.681364,-473.649367],[2339.772792,-483.468237],[2346.789564,-494.687799],[2355.407894,-509.805388],[2363.914727,-529.326085],[2370.520103,-553.503225],[2372.550383,-567.417127],[2373.434064,-582.590140],[2372.935062,-598.052964],[2371.124392,-612.301940],[2364.562464,-637.226428],[2355.737111,-657.499764],[2346.637164,-673.258110],[2339.197855,-684.884323],[2333.977964,-694.572855],[2330.901648,-705.177257],[2329.893064,-719.551080],[2259.893064,-719.551080],[2260.643875,-705.274019],[2262.713662,-692.122269],[2269.714302,-669.121513],[2278.703247,-650.402435],[2287.488764,-635.818660],[2294.514244,-624.565096],[2299.599652,-614.025275],[2302.617891,-601.335759],[2303.441864,-583.633110],[2302.178330,-565.618191],[2299.053389,-552.947949],[2294.095336,-542.619312],[2287.332464,-531.629205],[2278.922687,-517.302348],[2270.277252,-498.794622],[2263.304447,-475.849695],[2261.041622,-462.633176],[2259.912564,-448.211232],[2259.893564,-447.648732],[2259.893564,-447.088192],[2260.655136,-433.110117],[2262.752350,-420.230005],[2269.828677,-397.702815],[2278.872497,-379.384913],[2287.633764,-365.154592],[2294.589880,-354.171011],[2299.630814,-343.785983],[2302.625373,-331.166804],[2303.442364,-313.480770],[2302.004997,-294.357660],[2298.516277,-279.224281],[2293.232300,-265.776274],[2286.409164,-251.709280],[2279.296767,-236.849145],[2272.157839,-219.250508],[2266.084998,-198.626861],[2262.170864,-174.691700],[2187.487264,-174.691700],[2189.955520,-187.149107],[2193.619914,-198.174645],[2204.125964,-220.619440],[2212.165461,-237.806432],[2219.894064,-258.577259],[2225.815767,-283.323766],[2228.434564,-312.437800],[2227.933902,-327.903086],[2226.117909,-342.157466],[2219.532302,-367.089691],[2210.662475,-387.346848],[2201.493164,-403.041312],[2194.089531,-414.387884],[2188.947027,-423.596831],[2185.932066,-433.406436],[2184.911064,-446.554982],[2186.424786,-462.316508],[2189.681864,-473.649367],[2194.773292,-483.468237],[2201.790064,-494.687799],[2210.408394,-509.805388],[2218.915227,-529.326085],[2225.520603,-553.503225],[2227.550883,-567.417127],[2228.434564,-582.590140],[2227.935562,-598.052964],[2226.124892,-612.301940],[2219.562964,-637.226428],[2210.737611,-657.499764],[2201.637664,-673.258110],[2194.198355,-684.884323],[2188.978464,-694.572855],[2185.902148,-705.177257],[2184.893564,-719.551080],[2114.893564,-719.551080],[2115.644375,-705.274019],[2117.714162,-692.122269],[2124.714802,-669.121513],[2133.703747,-650.402435],[2142.489264,-635.818660],[2149.514744,-624.565096],[2154.600152,-614.025275],[2157.618391,-601.335759],[2158.442364,-583.633110],[2157.178830,-565.618191],[2154.053889,-552.947949],[2149.095836,-542.619312],[2142.332964,-531.629205],[2133.923187,-517.302348],[2125.277752,-498.794622],[2118.304947,-475.849695],[2116.042122,-462.633176],[2114.913064,-448.211232],[2114.894064,-447.648732],[2114.894064,-447.088192],[2115.655636,-433.110117],[2117.752850,-420.230005],[2124.829177,-397.702815],[2133.872997,-379.384913],[2142.634264,-365.154592],[2149.590380,-354.171011],[2154.631314,-343.785983],[2157.625873,-331.166804],[2158.442864,-313.480770],[2157.005497,-294.357660],[2153.516777,-279.224281],[2148.232800,-265.776274],[2141.409664,-251.709280],[2134.297267,-236.849145],[2127.158339,-219.250508],[2121.085498,-198.626861],[2117.171364,-174.691700],[2042.487764,-174.691700],[2044.956020,-187.149107],[2048.620414,-198.174645],[2059.126464,-220.619440],[2067.165961,-237.806432],[2074.894564,-258.577259],[2080.816267,-283.323766],[2083.435064,-312.437800],[2082.934402,-327.903086],[2081.118409,-342.157466],[2074.532802,-367.089691],[2065.662975,-387.346848],[2056.493664,-403.041312],[2049.090031,-414.387884],[2043.947527,-423.596831],[2040.932566,-433.406436],[2039.911564,-446.554982],[2041.425286,-462.316508],[2044.682364,-473.649367],[2049.773792,-483.468237],[2056.790564,-494.687799],[2065.408894,-509.805388],[2073.915727,-529.326085],[2080.521103,-553.503225],[2082.551383,-567.417127],[2083.435064,-582.590140],[2082.936062,-598.052964],[2081.125392,-612.301940],[2074.563464,-637.226428],[2065.738111,-657.499764],[2056.638164,-673.258110],[2049.198855,-684.884323],[2043.978964,-694.572855],[2040.902648,-705.177257],[2039.894064,-719.551080],[1969.894064,-719.551080]]);
  }
}

module poly_generator(h)
{
  scale([25.4/90, -25.4/90, 1]) union()
  {
    linear_extrude(height=h)
      polygon([[1191.878764,-105.691730],[2468.545364,-105.691730],[2468.545364,1090.974880],[1191.878764,1090.974880]]);
  }
}

module poly_crank_axle(h)
{
  scale([25.4/90, -25.4/90, 1]) union()
  {
    linear_extrude(height=h)
      polygon([[2214.961664,728.883980],[2214.150717,737.080404],[2211.778447,744.887115],[2207.935720,752.084742],[2202.713401,758.453917],[2196.344226,763.676236],[2189.146599,767.518963],[2181.339888,769.891233],[2173.143464,770.702180],[2164.715652,769.852568],[2156.865963,767.415874],[2149.762556,763.560259],[2143.573591,758.453882],[2138.467230,752.264905],[2134.611631,745.161489],[2132.174956,737.311794],[2131.325364,728.883980],[2132.174956,720.456166],[2134.611631,712.606471],[2138.467230,705.503055],[2143.573591,699.314078],[2149.762556,694.207702],[2156.865963,690.352086],[2164.715652,687.915392],[2173.143464,687.065780],[2181.339888,687.876727],[2189.146599,690.248997],[2196.344226,694.091724],[2202.713401,699.314043],[2207.935720,705.683218],[2211.778447,712.880845],[2214.150717,720.687556],[2214.961664,728.883980],[2214.961664,728.883980]]);
  }
}

module poly_pulley(h)
{
  scale([25.4/90, -25.4/90, 1]) union()
  {
    difference()
    {
       linear_extrude(height=h)
         polygon([[608.544864,-1133.025690],[578.960291,-1132.292270],[549.575688,-1130.105547],[520.440074,-1126.485827],[491.602469,-1121.453417],[463.111890,-1115.028621],[435.017356,-1107.231745],[407.367887,-1098.083096],[380.212501,-1087.602980],[353.600218,-1075.811702],[327.580054,-1062.729568],[302.201031,-1048.376884],[277.512166,-1032.773956],[253.562477,-1015.941090],[230.400985,-997.898591],[208.076708,-978.666766],[186.638664,-958.265920],[166.237801,-936.827847],[147.005963,-914.503500],[128.963454,-891.341905],[112.130581,-867.392086],[96.527649,-842.703068],[82.174963,-817.323874],[69.092828,-791.303530],[57.301552,-764.691060],[46.821438,-737.535489],[37.672792,-709.885841],[29.875920,-681.791141],[23.451128,-653.300414],[18.418721,-624.462683],[14.799004,-595.326975],[12.612283,-565.942312],[11.878864,-536.357720],[12.612283,-506.773152],[14.799004,-477.388553],[18.418721,-448.252942],[23.451128,-419.415337],[29.875920,-390.924758],[37.672792,-362.830224],[46.821438,-335.180752],[57.301552,-308.025363],[69.092828,-281.413075],[82.174963,-255.392907],[96.527649,-230.013877],[112.130581,-205.325005],[128.963454,-181.375309],[147.005963,-158.213809],[166.237801,-135.889523],[186.638664,-114.451470],[208.076708,-94.050618],[230.400985,-74.818788],[253.562477,-56.776286],[277.512166,-39.943417],[302.201031,-24.340488],[327.580054,-9.987804],[353.600218,3.094329],[380.212502,14.885605],[407.367887,25.365719],[435.017356,34.514366],[463.111890,42.311239],[491.602469,48.736032],[520.440074,53.768441],[549.575688,57.388159],[578.960291,59.574880],[608.544864,60.308300],[638.129460,59.574880],[667.514126,57.388159],[696.649838,53.768441],[725.487572,48.736032],[753.978302,42.311239],[782.073004,34.514366],[809.722654,25.365719],[836.878226,14.885605],[863.490697,3.094329],[889.511041,-9.987804],[914.890233,-24.340488],[939.579250,-39.943417],[963.529066,-56.776286],[986.690657,-74.818788],[1009.014998,-94.050618],[1030.453064,-114.451470],[1050.853927,-135.889523],[1070.085765,-158.213809],[1088.128274,-181.375309],[1104.961147,-205.325005],[1120.564079,-230.013877],[1134.916765,-255.392907],[1147.998900,-281.413075],[1159.790177,-308.025363],[1170.270290,-335.180752],[1179.418936,-362.830224],[1187.215808,-390.924758],[1193.640600,-419.415337],[1198.673007,-448.252942],[1202.292724,-477.388553],[1204.479445,-506.773152],[1205.212864,-536.357720],[1204.479445,-565.942312],[1202.292724,-595.326975],[1198.673007,-624.462683],[1193.640600,-653.300414],[1187.215808,-681.791141],[1179.418936,-709.885841],[1170.270290,-737.535489],[1159.790176,-764.691060],[1147.998900,-791.303530],[1134.916765,-817.323874],[1120.564079,-842.703068],[1104.961147,-867.392086],[1088.128274,-891.341905],[1070.085765,-914.503500],[1050.853927,-936.827847],[1030.453064,-958.265920],[1009.014998,-978.666766],[986.690657,-997.898591],[963.529066,-1015.941090],[939.579250,-1032.773956],[914.890233,-1048.376884],[889.511041,-1062.729568],[863.490697,-1075.811702],[836.878226,-1087.602980],[809.722654,-1098.083096],[782.073004,-1107.231745],[753.978302,-1115.028621],[725.487572,-1121.453417],[696.649838,-1126.485827],[667.514126,-1130.105547],[638.129460,-1132.292270],[608.544864,-1133.025690]]);
       translate([0, 0, -fudge])
         linear_extrude(height=h+2*fudge)
           polygon([[563.546864,-1051.062800],[563.546864,-686.387020],[545.257673,-679.582409],[528.110542,-670.638683],[512.271660,-659.721998],[497.907214,-646.998510],[485.183393,-632.634377],[474.266386,-616.795755],[465.322380,-599.648800],[458.517564,-581.359670],[93.841764,-581.359670],[99.746424,-626.196237],[109.495736,-670.139353],[122.991087,-712.950839],[140.133864,-754.392518],[160.825453,-794.226208],[184.967242,-832.213731],[212.460617,-868.116908],[243.206964,-901.697560],[276.787944,-932.444228],[312.691369,-959.937818],[350.679088,-984.079726],[390.512951,-1004.771344],[431.954811,-1021.914066],[474.766516,-1035.409287],[518.709917,-1045.158401],[563.546864,-1051.062800]]);
       translate([0, 0, -fudge])
         linear_extrude(height=h+2*fudge)
           polygon([[653.546864,-1051.062800],[698.383418,-1045.158136],[742.326520,-1035.408825],[785.137994,-1021.913477],[826.579664,-1004.770703],[866.413352,-984.079113],[904.400883,-959.937319],[940.304079,-932.443931],[973.884764,-901.697560],[1004.631271,-868.116718],[1032.124753,-832.213328],[1056.266600,-794.225571],[1076.958202,-754.391633],[1094.100949,-712.949695],[1107.596231,-670.137941],[1117.345440,-626.194555],[1123.249964,-581.357720],[758.574164,-581.357720],[751.769520,-599.646792],[742.825725,-616.793821],[731.908959,-632.632626],[719.185402,-646.997029],[704.821233,-659.720849],[688.982634,-670.637907],[671.835785,-679.582024],[653.546864,-686.387020],[653.546864,-1051.062800]]);
       translate([0, 0, -fudge])
         linear_extrude(height=h+2*fudge)
           polygon([[608.544864,-633.025690],[628.128658,-631.076285],[646.322025,-625.478909],[662.748709,-616.609821],[677.032452,-604.845278],[688.796996,-590.561538],[697.666084,-574.134859],[703.263460,-555.941501],[705.212864,-536.357720],[703.263460,-516.774023],[697.666084,-498.580886],[688.796996,-482.154520],[677.032452,-467.871139],[662.748709,-456.106954],[646.322025,-447.238178],[628.128658,-441.641023],[608.544864,-439.691702],[588.961185,-441.641023],[570.768058,-447.238178],[554.341696,-456.106954],[540.058314,-467.871139],[528.294126,-482.154520],[519.425345,-498.580886],[513.828187,-516.774023],[511.878864,-536.357720],[513.828187,-555.941501],[519.425345,-574.134859],[528.294126,-590.561538],[540.058314,-604.845278],[554.341696,-616.609821],[570.768058,-625.478909],[588.961185,-631.076285],[608.544864,-633.025690]]);
       translate([0, 0, -fudge])
         linear_extrude(height=h+2*fudge)
           polygon([[93.841764,-491.359674],[458.517564,-491.359674],[465.322064,-473.070414],[474.265736,-455.923240],[485.182409,-440.084338],[497.905914,-425.719892],[512.270082,-412.996089],[528.108742,-402.079112],[545.255726,-393.135148],[563.544864,-386.330382],[563.544864,-21.654590],[518.708212,-27.559120],[474.765095,-37.308330],[431.953663,-50.803614],[390.512064,-67.946361],[350.678446,-88.637965],[312.690958,-112.779816],[276.787748,-140.273308],[243.206964,-171.019830],[212.460326,-204.600788],[184.966750,-240.504203],[160.824847,-278.491921],[140.133226,-318.325789],[122.990498,-359.767652],[109.495272,-402.579356],[99.746157,-446.522748],[93.841764,-491.359674]]);
       translate([0, 0, -fudge])
         linear_extrude(height=h+2*fudge)
           polygon([[758.574164,-491.357674],[1123.249964,-491.357674],[1117.345440,-446.521020],[1107.596231,-402.577900],[1094.100949,-359.766464],[1076.958202,-318.324861],[1056.266600,-278.491242],[1032.124753,-240.503756],[1004.631271,-204.600552],[973.884764,-171.019780],[940.303911,-140.273258],[904.400514,-112.779766],[866.412755,-88.637915],[826.578814,-67.946311],[785.136873,-50.803564],[742.325114,-37.308280],[698.381717,-27.559070],[653.544864,-21.654540],[653.544864,-386.330332],[671.833998,-393.134997],[688.981102,-402.078800],[704.819980,-412.995564],[719.184439,-425.719115],[731.908282,-440.083276],[742.825314,-455.921874],[751.769340,-473.068731],[758.574164,-491.357674]]);
    }
  }
}

module poly_turbine_cap2(h)
{
  scale([25.4/90, -25.4/90, 1]) union()
  {
    linear_extrude(height=h)
      polygon([[830.539064,583.189180],[830.539064,938.093480],[930.623164,938.093480],[930.623164,581.189180],[830.539064,581.189180],[830.539064,582.189180],[830.539064,583.189180]]);
  }
}

module poly_turbine_blades(h)
{
  scale([25.4/90, -25.4/90, 1]) union()
  {
    difference()
    {
       linear_extrude(height=h)
         polygon([[46.105464,-230.971000],[5.361113,-228.905591],[-34.221890,-222.844338],[-72.441081,-212.989706],[-109.093995,-199.544159],[-143.978170,-182.710161],[-176.891140,-162.690174],[-207.630441,-139.686664],[-235.993611,-113.902094],[-261.778185,-85.538927],[-284.781698,-54.799628],[-304.801688,-21.886661],[-321.635689,12.997511],[-335.081239,49.650424],[-344.935872,87.869614],[-350.997126,127.452617],[-353.062536,168.196970],[-350.997126,208.941322],[-344.935872,248.524323],[-335.081239,286.743510],[-321.635689,323.396420],[-304.801688,358.280587],[-284.781698,391.193549],[-261.778185,421.932843],[-235.993611,450.296004],[-207.630441,476.080568],[-176.891140,499.084073],[-143.978170,519.104054],[-109.093995,535.938049],[-72.441081,549.383592],[-34.221890,559.238221],[5.361113,565.299471],[46.105464,567.364880],[86.849837,565.299471],[126.432900,559.238221],[164.652184,549.383592],[201.305220,535.938049],[236.189538,519.104054],[269.102669,499.084073],[299.842142,476.080568],[328.205489,450.296004],[353.990240,421.932843],[376.993925,391.193549],[397.014075,358.280587],[413.848220,323.396420],[427.293891,286.743510],[437.148619,248.524323],[443.209933,208.941322],[445.275364,168.196970],[443.209933,127.452617],[437.148619,87.869614],[427.293891,49.650424],[413.848220,12.997511],[397.014075,-21.886661],[376.993925,-54.799628],[353.990240,-85.538927],[328.205489,-113.902094],[299.842142,-139.686664],[269.102669,-162.690174],[236.189538,-182.710161],[201.305220,-199.544159],[164.652184,-212.989706],[126.432900,-222.844338],[86.849837,-228.905591],[46.105464,-230.971000]]);
       translate([0, 0, -fudge])
         linear_extrude(height=h+2*fudge)
           polygon([[46.105464,-160.971000],[73.484164,-159.856576],[100.234364,-156.570610],[119.175577,-82.265990],[127.987566,-42.505743],[134.164064,-7.445610],[136.001864,6.556340],[115.306127,-3.366368],[93.295114,-10.699175],[70.163377,-15.244068],[46.105464,-16.803030],[24.168370,-15.508238],[2.984539,-11.723779],[-17.299480,-5.599550],[-36.537136,2.714550],[-62.400374,-1.739931],[-88.150436,-4.719050],[-104.967487,-5.582176],[-123.660372,-5.318771],[-164.330223,-2.171239],[-205.473156,3.205806],[-242.402336,9.294620],[-231.311637,-9.363652],[-219.051941,-27.196924],[-205.675433,-44.152935],[-191.234295,-60.179422],[-175.780713,-75.224123],[-159.366870,-89.234777],[-142.044950,-102.159120],[-123.867136,-113.944891],[-104.885613,-124.539828],[-85.152565,-133.891668],[-64.720174,-141.948149],[-43.640627,-148.657010],[-21.966105,-153.965987],[0.251207,-157.822820],[22.959124,-160.175245],[46.105464,-160.971000]]);
       translate([0, 0, -fudge])
         linear_extrude(height=h+2*fudge)
           polygon([[111.144464,-154.580380],[136.393124,-148.500343],[160.835201,-140.528332],[184.388507,-130.746534],[206.970858,-119.237135],[228.500065,-106.082322],[248.893943,-91.364281],[268.070305,-75.165200],[285.946964,-57.567264],[302.441734,-38.652660],[317.472429,-18.503575],[330.956861,2.797805],[342.812845,25.169292],[352.958194,48.528701],[361.310721,72.793845],[367.788240,97.882537],[372.308564,123.712590],[308.568952,163.879813],[274.615941,183.809665],[244.253864,199.913770],[226.738264,208.191110],[229.990764,188.511012],[231.105464,168.196970],[230.246231,150.296701],[227.721709,132.876527],[223.611661,116.015823],[217.995852,99.793965],[210.954043,84.290330],[202.566000,69.584293],[192.911486,55.755231],[182.070264,42.882520],[178.275002,15.805856],[172.962864,-10.678030],[168.517331,-27.165226],[162.382842,-45.116478],[146.549614,-83.340524],[128.468411,-121.208910],[111.144464,-154.580380]]);
       translate([0, 0, -fudge])
         linear_extrude(height=h+2*fudge)
           polygon([[46.105464,9.933300],[71.718980,11.986393],[96.007564,17.931660],[118.653198,27.448059],[139.337864,40.214550],[140.554039,73.016900],[139.013664,105.716500],[136.560539,122.168252],[132.575839,140.825520],[123.097664,176.913770],[123.605464,168.196970],[122.987664,158.417739],[121.184992,148.996970],[114.329414,131.533947],[103.647486,116.414154],[89.747964,104.243840],[81.730308,88.250276],[70.849714,69.100306],[58.123820,50.637338],[51.386898,42.864545],[44.570264,36.704780],[25.924464,24.617967],[5.703064,15.120800],[25.500239,11.259317],[46.105464,9.933300]]);
       translate([0, 0, -fudge])
         linear_extrude(height=h+2*fudge)
           polygon([[-247.765636,19.445020],[-171.785836,24.401824],[-131.810930,28.277855],[-97.064536,33.179390],[-82.966836,35.798530],[-95.269396,49.013802],[-106.251620,63.378165],[-115.814878,78.793435],[-123.860536,95.161429],[-130.289963,112.383963],[-135.004527,130.362853],[-137.905595,148.999917],[-138.894536,168.196970],[-137.152336,193.532910],[-151.076348,219.225034],[-163.171936,245.454780],[-174.271855,277.480744],[-183.560711,315.258055],[-191.037005,354.459413],[-196.699236,390.757520],[-215.816936,367.913204],[-232.832031,343.373004],[-247.606926,317.274039],[-260.004024,289.753430],[-269.885729,260.948298],[-277.114447,230.995764],[-281.552581,200.032947],[-283.062536,168.196970],[-280.722131,128.627825],[-273.880048,90.469507],[-262.804984,53.986933],[-247.765636,19.445020]]);
       translate([0, 0, -fudge])
         linear_extrude(height=h+2*fudge)
           polygon([[-50.654336,42.859080],[-18.818248,51.883499],[12.056564,63.534860],[36.377102,76.291017],[62.412064,92.446970],[46.105464,90.696970],[31.830195,92.025032],[18.410939,95.845571],[6.087470,101.913098],[-4.900436,109.982120],[-22.601194,112.680102],[-44.079748,117.109254],[-65.433972,123.487046],[-74.845044,127.474642],[-82.761736,132.030950],[-98.078936,144.233747],[-111.841836,158.267280],[-109.816620,140.921122],[-105.980472,124.204912],[-100.435540,108.220838],[-93.283973,93.071089],[-84.627921,78.857850],[-74.569531,65.683311],[-63.210953,53.649658],[-50.654336,42.859080]]);
       translate([0, 0, -fudge])
         linear_extrude(height=h+2*fudge)
           polygon([[182.824164,88.308300],[191.969289,106.575739],[198.733989,126.103390],[202.930502,146.705663],[204.371064,168.196970],[203.767309,182.139048],[201.990377,195.739157],[195.122964,221.716500],[166.940539,231.735626],[138.128864,239.493840],[109.857402,243.580109],[78.272064,245.816075],[41.962864,246.943060],[51.036095,252.058379],[73.294214,263.364672],[101.294858,274.802445],[115.122888,278.677043],[127.595664,280.312200],[144.260589,279.727894],[160.802664,277.368840],[149.456972,288.166626],[137.083173,297.806205],[123.767970,306.200813],[109.598064,313.263688],[94.660158,318.908066],[79.040955,323.047184],[62.827156,325.594280],[46.105464,326.462590],[43.271464,326.427490],[26.051889,303.801810],[10.624964,279.993890],[2.336222,263.970371],[-5.952098,245.054839],[-19.941436,208.622800],[-14.322788,216.589521],[-7.774189,223.781067],[-0.383870,230.108962],[7.759939,235.484730],[16.569007,239.819896],[25.955105,243.025983],[35.830000,245.014517],[46.105464,245.697020],[57.829303,244.806752],[69.012400,242.224186],[79.522613,238.081693],[89.227802,232.511642],[97.995822,225.646405],[105.694534,217.618350],[112.191795,208.559849],[117.355464,198.603270],[127.069483,189.569846],[144.269064,172.009583],[162.317495,150.182685],[169.586057,139.000563],[174.578064,128.349360],[179.964564,108.633576],[182.824164,88.308350]]);
       translate([0, 0, -fudge])
         linear_extrude(height=h+2*fudge)
           polygon([[46.105464,116.810250],[56.506205,117.847894],[66.173094,120.826702],[74.904889,125.545477],[82.500352,131.803022],[88.758240,139.398141],[93.477316,148.129637],[96.456337,157.796312],[97.494064,168.196970],[96.456337,178.597628],[93.477316,188.264303],[88.758240,196.995799],[82.500352,204.590917],[74.904889,210.848463],[66.173094,215.567238],[56.506205,218.546046],[46.105464,219.583690],[35.704800,218.546046],[26.038116,215.567238],[17.306608,210.848463],[9.711477,204.590917],[3.453918,196.995799],[-1.264869,188.264303],[-4.243686,178.597628],[-5.281336,168.196970],[-4.243686,157.796312],[-1.264869,148.129637],[3.453918,139.398141],[9.711477,131.803022],[17.306608,125.545477],[26.038116,120.826702],[35.704800,117.847894],[46.105464,116.810250]]);
       translate([0, 0, -fudge])
         linear_extrude(height=h+2*fudge)
           polygon([[-21.119136,129.779000],[-25.475925,138.603171],[-28.702398,148.005384],[-30.706091,157.898897],[-31.394536,168.196970],[-30.229886,181.549274],[-26.880936,194.171580],[-29.805653,209.932164],[-33.032723,233.763436],[-34.325975,259.902783],[-33.548615,272.037168],[-31.449236,282.587590],[-25.871961,297.951271],[-18.705136,312.675480],[-33.136185,305.294967],[-46.658959,296.527052],[-59.180388,286.464975],[-70.607398,275.201976],[-80.846920,262.831296],[-89.805881,249.446173],[-97.391210,235.139848],[-103.509836,220.005560],[-86.348473,194.873504],[-67.291036,171.243840],[-46.079711,150.667255],[-21.119136,129.779000]]);
       translate([0, 0, -fudge])
         linear_extrude(height=h+2*fudge)
           polygon([[373.728464,136.036810],[375.275364,168.196970],[374.401287,192.452146],[371.819191,216.222826],[367.589278,239.448859],[361.771750,262.070097],[354.426809,284.026392],[345.614656,305.257593],[335.395495,325.703552],[323.829527,345.304120],[310.976953,363.999148],[296.897976,381.728487],[281.652799,398.431987],[265.301622,414.049500],[247.904648,428.520877],[229.522079,441.785969],[210.214117,453.784626],[190.040964,464.456700],[133.324939,417.093692],[104.894045,391.788866],[81.064364,368.691110],[65.560464,352.175480],[87.206781,348.589938],[107.936309,342.567198],[127.593349,334.262816],[146.022202,323.832344],[163.067168,311.431336],[178.572550,297.215347],[192.382648,281.339931],[204.341764,263.960640],[232.478852,250.780485],[259.318364,235.814160],[287.704552,215.972595],[318.040889,190.249479],[347.618489,162.364365],[373.728464,136.036810]]);
       translate([0, 0, -fudge])
         linear_extrude(height=h+2*fudge)
           polygon([[-120.519536,248.546580],[-110.357185,266.820643],[-98.263841,283.756583],[-84.389291,299.205012],[-68.883323,313.016544],[-51.895726,325.041791],[-33.576288,335.131365],[-14.074795,343.135881],[6.458964,348.905950],[28.298989,372.466848],[51.576164,394.112980],[78.192333,414.288253],[110.727839,434.531794],[145.234383,453.560558],[177.763664,470.091500],[146.782277,481.750631],[114.394864,490.303900],[80.777302,495.569319],[46.105464,497.364900],[12.201213,495.651239],[-20.700816,490.621292],[-52.434539,482.441613],[-82.833873,471.278757],[-111.732734,457.299280],[-138.965038,440.669735],[-164.364699,421.556677],[-187.765636,400.126660],[-160.086936,331.062000],[-144.646102,295.792993],[-129.882836,265.644230],[-120.519536,248.546580]]);
    }
  }
}

module poly_updraft2(h)
{
  scale([25.4/90, -25.4/90, 1]) union()
  {
    linear_extrude(height=h)
      polygon([[1280.386664,-719.551080],[1281.137393,-705.274019],[1283.206966,-692.122269],[1290.206951,-669.121513],[1299.195244,-650.402435],[1307.980464,-635.818660],[1315.005944,-624.565096],[1320.091352,-614.025275],[1323.109591,-601.335759],[1323.933564,-583.633110],[1322.670030,-565.618191],[1319.545089,-552.947949],[1314.587036,-542.619312],[1307.824164,-531.629205],[1299.414387,-517.302348],[1290.768952,-498.794622],[1283.796147,-475.849694],[1281.533322,-462.633176],[1280.404264,-448.211232],[1280.386264,-447.648732],[1280.386264,-447.088192],[1281.147755,-433.110117],[1283.244753,-420.230005],[1290.320427,-397.702815],[1299.363594,-379.384913],[1308.124564,-365.154592],[1315.080680,-354.171011],[1320.121614,-343.785983],[1323.116173,-331.166804],[1323.933164,-313.480770],[1322.495755,-294.357660],[1319.007039,-279.224281],[1313.723086,-265.776274],[1306.899964,-251.709280],[1299.787837,-236.849144],[1292.649602,-219.250504],[1286.577472,-198.626857],[1282.663664,-174.691700],[1245.222264,-174.691700],[1245.222264,-104.691700],[1702.513264,-104.691700],[1702.513264,-174.691700],[1642.980064,-174.691700],[1645.448008,-187.149081],[1649.111714,-198.174630],[1659.616764,-220.619440],[1667.656261,-237.806432],[1675.384864,-258.577259],[1681.306567,-283.323766],[1683.925364,-312.437800],[1683.424759,-327.903086],[1681.608978,-342.157466],[1675.024052,-367.089691],[1666.154906,-387.346848],[1656.985864,-403.041312],[1649.580166,-414.390931],[1644.437076,-423.602101],[1641.422881,-433.416178],[1640.403864,-446.574522],[1641.918878,-462.326029],[1645.176527,-473.654151],[1650.267569,-483.470777],[1657.282764,-494.687799],[1665.900839,-509.805388],[1674.407014,-529.326085],[1681.011714,-553.503225],[1683.041769,-567.417127],[1683.925364,-582.590140],[1683.426333,-598.052964],[1681.615650,-612.301940],[1675.053726,-637.226428],[1666.228397,-657.499764],[1657.128464,-673.258110],[1649.689451,-684.884323],[1644.470214,-694.572855],[1641.394552,-705.177257],[1640.386264,-719.551080],[1570.386264,-719.551080],[1571.136993,-705.274019],[1573.206566,-692.122269],[1580.206551,-669.121513],[1589.194844,-650.402435],[1597.980064,-635.818660],[1605.005544,-624.565096],[1610.090951,-614.025275],[1613.109191,-601.335759],[1613.933164,-583.633110],[1612.669630,-565.618191],[1609.544689,-552.947949],[1604.586636,-542.619312],[1597.823764,-531.629205],[1589.413987,-517.302348],[1580.768551,-498.794622],[1573.795747,-475.849694],[1571.532922,-462.633176],[1570.403864,-448.211232],[1570.385864,-447.648732],[1570.385864,-447.088192],[1571.147355,-433.110117],[1573.244353,-420.230005],[1580.320026,-397.702815],[1589.363194,-379.384913],[1598.124164,-365.154592],[1605.080280,-354.171011],[1610.121214,-343.785983],[1613.115773,-331.166804],[1613.932764,-313.480770],[1612.495355,-294.357660],[1609.006639,-279.224281],[1603.722686,-265.776274],[1596.899564,-251.709280],[1589.787437,-236.849144],[1582.649201,-219.250504],[1576.577072,-198.626857],[1572.663264,-174.691700],[1497.979664,-174.691700],[1500.447608,-187.149081],[1504.111314,-198.174630],[1514.616364,-220.619440],[1522.655861,-237.806432],[1530.384464,-258.577259],[1536.306167,-283.323766],[1538.924964,-312.437800],[1538.424359,-327.903086],[1536.608578,-342.157466],[1530.023652,-367.089691],[1521.154506,-387.346848],[1511.985464,-403.041312],[1504.579766,-414.390931],[1499.436677,-423.602101],[1496.422481,-433.416178],[1495.403464,-446.574522],[1496.918478,-462.326029],[1500.176127,-473.654151],[1505.267169,-483.470777],[1512.282364,-494.687799],[1520.900439,-509.805388],[1529.406614,-529.326085],[1536.011314,-553.503225],[1538.041369,-567.417127],[1538.924964,-582.590140],[1538.425933,-598.052964],[1536.615250,-612.301940],[1530.053327,-637.226428],[1521.227997,-657.499764],[1512.128064,-673.258110],[1504.689052,-684.884323],[1499.469814,-694.572855],[1496.394152,-705.177257],[1495.385864,-719.551080],[1425.385864,-719.551080],[1426.136593,-705.274019],[1428.206166,-692.122269],[1435.206152,-669.121513],[1444.194444,-650.402435],[1452.979664,-635.818660],[1460.005144,-624.565096],[1465.090552,-614.025275],[1468.108791,-601.335759],[1468.932764,-583.633110],[1467.669230,-565.618191],[1464.544289,-552.947949],[1459.586236,-542.619312],[1452.823364,-531.629205],[1444.413587,-517.302348],[1435.768152,-498.794622],[1428.795347,-475.849694],[1426.532522,-462.633176],[1425.403464,-448.211232],[1425.385464,-447.648732],[1425.385464,-447.088192],[1426.146955,-433.110117],[1428.243953,-420.230005],[1435.319627,-397.702815],[1444.362794,-379.384913],[1453.123764,-365.154592],[1460.079880,-354.171011],[1465.120814,-343.785983],[1468.115373,-331.166804],[1468.932364,-313.480770],[1467.494955,-294.357660],[1464.006239,-279.224281],[1458.722286,-265.776274],[1451.899164,-251.709280],[1444.787037,-236.849144],[1437.648802,-219.250504],[1431.576672,-198.626857],[1427.662864,-174.691700],[1352.979264,-174.691700],[1355.447208,-187.149081],[1359.110914,-198.174630],[1369.615964,-220.619440],[1377.655461,-237.806432],[1385.384064,-258.577259],[1391.305767,-283.323766],[1393.924564,-312.437800],[1393.423959,-327.903086],[1391.608178,-342.157466],[1385.023252,-367.089691],[1376.154106,-387.346848],[1366.985064,-403.041312],[1359.579366,-414.390931],[1354.436277,-423.602101],[1351.422081,-433.416178],[1350.403064,-446.574522],[1351.918078,-462.326029],[1355.175727,-473.654151],[1360.266769,-483.470777],[1367.281964,-494.687799],[1375.900039,-509.805388],[1384.406214,-529.326085],[1391.010914,-553.503225],[1393.040969,-567.417127],[1393.924564,-582.590140],[1393.425533,-598.052964],[1391.614850,-612.301940],[1385.052927,-637.226428],[1376.227597,-657.499764],[1367.127664,-673.258110],[1359.688652,-684.884323],[1354.469414,-694.572855],[1351.393752,-705.177257],[1350.385464,-719.551080],[1280.385464,-719.551080]]);
  }
}

native_width = 2500.909200*2 * 25.4/90;
module poly_frame(h)
{
  scale([25.4/90, -25.4/90, 1]) union()
  {
    linear_extrude(height=h)
      polygon([[-2500.909200,-718.792710],[2500.909200,-718.792710],[2500.909200,1133.025690],[-2500.909200,1133.025690]]);
  }
}

module poly_frame_w_pulley(h)
{
  scale([25.4/90, -25.4/90, 1]) union()
  {
    linear_extrude(height=h)
      polygon([[608.545901,-1133.025403],[578.961327,-1132.291983],[549.576721,-1130.105260],[520.441103,-1126.485541],[491.603491,-1121.453130],[463.112904,-1115.028334],[435.018362,-1107.231459],[407.368884,-1098.082811],[380.213489,-1087.602695],[353.601196,-1075.811417],[327.581024,-1062.729284],[302.201992,-1048.376600],[277.513119,-1032.773672],[253.563424,-1015.940806],[230.401927,-997.898308],[208.077646,-978.666483],[186.639602,-958.265637],[162.103789,-932.212352],[139.286267,-904.876464],[118.222793,-876.344873],[98.949126,-846.704483],[81.501025,-816.042196],[65.914248,-784.444915],[52.224554,-751.999541],[40.467701,-718.792977],[-2500.909202,-718.792977],[-2500.909202,1133.025403],[2500.909202,1133.025403],[2500.909202,-718.792977],[1176.626001,-718.792977],[1164.869149,-751.999541],[1151.179455,-784.444915],[1135.592678,-816.042196],[1118.144576,-846.704483],[1098.870910,-876.344873],[1077.807436,-904.876464],[1054.989914,-932.212352],[1030.454102,-958.265637],[1009.016035,-978.666483],[986.691694,-997.898308],[963.530103,-1015.940806],[939.580287,-1032.773672],[914.891271,-1048.376600],[889.512078,-1062.729284],[863.491734,-1075.811417],[836.879264,-1087.602695],[809.723692,-1098.082811],[782.074042,-1107.231459],[753.979340,-1115.028334],[725.488609,-1121.453130],[696.650876,-1126.485541],[667.515163,-1130.105260],[638.130497,-1132.291983],[608.545901,-1133.025403]]);
  }
}

module poly_gear_outer_ring(h)
{
  scale([25.4/90, -25.4/90, 1]) union()
  {
    difference()
    {
       linear_extrude(height=h)
         polygon([[1864.960864,196.456730],[1835.708556,197.942091],[1807.285184,202.300819],[1779.836775,209.386881],[1753.509358,219.054243],[1728.448960,231.156871],[1704.801610,245.548732],[1682.713335,262.083793],[1662.330164,280.616020],[1643.798124,300.999380],[1627.263243,323.087838],[1612.871549,346.735363],[1600.769070,371.795920],[1591.101834,398.123475],[1584.015869,425.571996],[1579.657203,453.995449],[1578.171864,483.247800],[1579.657203,512.500127],[1584.015869,540.923560],[1591.101834,568.372064],[1600.769070,594.699607],[1612.871549,619.760154],[1627.263243,643.407672],[1643.798124,665.496126],[1662.330164,685.879483],[1682.713335,704.411708],[1704.801610,720.946769],[1728.448960,735.338632],[1753.509358,747.441262],[1779.836775,757.108625],[1807.285184,764.194689],[1835.708556,768.553418],[1864.960864,770.038780],[1894.213211,768.553418],[1922.636659,764.194689],[1950.085175,757.108625],[1976.412725,747.441262],[2001.473276,735.338632],[2025.120795,720.946769],[2047.209248,704.411708],[2067.592602,685.879483],[2086.124823,665.496126],[2102.659879,643.407672],[2117.051735,619.760154],[2129.154359,594.699607],[2138.821718,568.372064],[2145.907777,540.923560],[2150.266503,512.500127],[2151.751864,483.247800],[2150.266503,453.995449],[2145.907777,425.571996],[2138.821718,398.123475],[2129.154359,371.795920],[2117.051735,346.735363],[2102.659879,323.087838],[2086.124823,300.999380],[2067.592602,280.616020],[2047.209248,262.083793],[2025.120795,245.548732],[2001.473276,231.156871],[1976.412725,219.054243],[1950.085175,209.386881],[1922.636659,202.300819],[1894.213211,197.942091],[1864.960864,196.456730]]);
       translate([0, 0, -fudge])
         linear_extrude(height=h+2*fudge)
           polygon([[1864.960864,268.530950],[1886.984659,269.634826],[1908.356179,272.875751],[1928.969368,278.147669],[1948.718172,285.344525],[1967.496535,294.360263],[1985.198401,305.088829],[2001.717717,317.424166],[2016.948427,331.260220],[2030.784475,346.490935],[2043.119806,363.010256],[2053.848367,380.712127],[2062.864100,399.490493],[2070.060952,419.239299],[2075.332866,439.852489],[2078.573789,461.224007],[2079.677664,483.247800],[2078.573789,505.271553],[2075.332866,526.642994],[2070.060952,547.256073],[2062.864100,567.004742],[2053.848367,585.782949],[2043.119806,603.484645],[2030.784475,620.003782],[2016.948427,635.234307],[2001.717717,649.070174],[1985.198401,661.405330],[1967.496535,672.133727],[1948.718172,681.149315],[1928.969368,688.346044],[1908.356179,693.617864],[1886.984659,696.858726],[1864.960864,697.962580],[1842.937108,696.858726],[1821.565664,693.617864],[1800.952581,688.346044],[1781.203911,681.149315],[1762.425702,672.133727],[1744.724003,661.405330],[1728.204866,649.070174],[1712.974339,635.234307],[1699.138472,620.003782],[1686.803315,603.484645],[1676.074918,585.782949],[1667.059330,567.004742],[1659.862600,547.256073],[1654.590780,526.642994],[1651.349918,505.271553],[1650.246064,483.247800],[1651.349918,461.224007],[1654.590780,439.852489],[1659.862600,419.239299],[1667.059330,399.490493],[1676.074918,380.712127],[1686.803315,363.010256],[1699.138472,346.490935],[1712.974339,331.260220],[1728.204866,317.424166],[1744.724003,305.088829],[1762.425702,294.360263],[1781.203911,285.344525],[1800.952581,278.147669],[1821.565664,272.875751],[1842.937108,269.634826],[1864.960864,268.530950]]);
    }
  }
}

module poly_crank_ring(h)
{
  scale([25.4/90, -25.4/90, 1]) union()
  {
    difference()
    {
       linear_extrude(height=h)
         polygon([[2173.144464,590.247780],[2158.998973,590.965499],[2145.255392,593.071679],[2131.984187,596.495851],[2119.255828,601.167547],[2107.140782,607.016300],[2095.709517,613.971641],[2085.032501,621.963103],[2075.180202,630.920217],[2066.223087,640.772517],[2058.231625,651.449533],[2051.276284,662.880798],[2045.427531,674.995844],[2040.755835,687.724203],[2037.331663,700.995408],[2035.225483,714.738989],[2034.507764,728.884480],[2035.225483,743.029954],[2037.331663,756.773524],[2040.755835,770.044720],[2045.427531,782.773074],[2051.276284,794.888118],[2058.231625,806.319383],[2066.223087,816.996402],[2075.180202,826.848705],[2085.032501,835.805825],[2095.709517,843.797293],[2107.140782,850.752640],[2119.255828,856.601399],[2131.984187,861.273101],[2145.255392,864.697277],[2158.998973,866.803459],[2173.144464,867.521180],[2187.289934,866.803459],[2201.033455,864.697277],[2214.304565,861.273101],[2227.032803,856.601399],[2239.147705,850.752640],[2250.578810,843.797293],[2261.255654,835.805825],[2271.107777,826.848705],[2280.064714,816.996402],[2288.056004,806.319383],[2295.011185,794.888118],[2300.859794,782.773074],[2305.531368,770.044720],[2308.955447,756.773524],[2311.061566,743.029954],[2311.779264,728.884480],[2311.061566,714.738989],[2308.955447,700.995408],[2305.531368,687.724203],[2300.859794,674.995844],[2295.011185,662.880798],[2288.056004,651.449533],[2280.064714,640.772517],[2271.107777,630.920217],[2261.255654,621.963103],[2250.578810,613.971641],[2239.147705,607.016300],[2227.032803,601.167547],[2214.304565,596.495851],[2201.033455,593.071679],[2187.289934,590.965499],[2173.144464,590.247780]]);
       translate([0, 0, -fudge])
         linear_extrude(height=h+2*fudge)
           polygon([[2173.144464,620.247780],[2195.089431,622.447611],[2215.505359,628.760028],[2233.961681,638.754418],[2250.027827,652.000167],[2263.273227,668.066662],[2273.267312,686.523288],[2279.579515,706.939432],[2281.779264,728.884480],[2279.579515,750.829500],[2273.267312,771.245630],[2263.273227,789.702254],[2250.027827,805.768755],[2233.961681,819.014515],[2215.505359,829.008918],[2195.089431,835.321345],[2173.144464,837.521180],[2151.199444,835.321345],[2130.783314,829.008918],[2112.326690,819.014515],[2096.260189,805.768755],[2083.014429,789.702254],[2073.020026,771.245630],[2066.707599,750.829500],[2064.507764,728.884480],[2066.707599,706.939432],[2073.020026,686.523288],[2083.014429,668.066662],[2096.260189,652.000167],[2112.326690,638.754418],[2130.783314,628.760028],[2151.199444,622.447611],[2173.144464,620.247780]]);
    }
  }
}

module poly_turbine_cap1(h)
{
  scale([25.4/90, -25.4/90, 1]) union()
  {
    linear_extrude(height=h)
      polygon([[-1059.034399,-610.048737],[-1059.034399,-173.777247],[-979.094899,-173.777247],[-979.094899,-612.048737],[-1059.034399,-612.048737],[-1059.034399,-611.048737],[-1059.034399,-610.048737]]);
  }
}

module energy_relief() {

    // Condenser
    
    color("Orange",   1)
        poly_condenser1(0.5);
    color("DarkOrange")
        poly_condenser2(0.3);
    color("OrangeRed")
        poly_tank(0.5);

    color("LightSkyBlue",   1)
        poly_heat_exchanger(0.7);

    // Inlet
    
    color("LightSkyBlue") {
        poly_intake_air(0.7);
        poly_intake_rim(0.9);
    }

    // Turbine
        
    color("Brown")
        poly_turbine_blades(1);

    color("YellowGreen", 1)
        poly_turbine_housing(0.6);

    color("SeaGreen") {
        poly_asterisk(0.8);
        poly_turbine_cap1(0.9);
        poly_turbine_cap2(0.9);
        poly_intake_rim(0.9);
    }
    
    // Generator

    color("DeepSkyBlue") {
        poly_updraft1(0.2);
        poly_updraft2(0.2);
    }

    color("LightSlateGray") {
        poly_generator(0.3);
        poly_gear_recess(0.4);
    }
    
    // Pulley
    
    color("OrangeRed") poly_pulley(0.3);

    // Gear

    color("Goldenrod") {
        poly_gear(0.6);
    }
    poly_gear_outer_ring(0.7);
    poly_gear_inner_ring(0.9);
    
    // Piston and crank
    color("DarkOliveGreen")
        poly_crank(0.8);
    poly_crank_axle(1);
    poly_crank_ring(1);
    color("gray")
        poly_piston(0.6);
}

module energy_mural(length, base_depth, relief_depth, cropped) {
    scale([length/native_width, length/native_width, 1]) {
        intersection() {
            union() {
                translate([0,0,-base_depth+fudge])
                    scale([1,1, base_depth])
                        poly_frame_w_pulley(1);

                scale([1,1, relief_depth])
                    energy_relief();
            }
            if(cropped == "yes")
                translate([0,0,-base_depth-5])
                    poly_frame(base_depth+relief_depth+10);
        }
    }
}

energy_mural(
    length,
    thickness * (1-relief),
    thickness * relief,
    crop_to_frame
);